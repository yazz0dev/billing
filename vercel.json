{
  "version": 2,
  "functions": {
    "api/index.php": {
      "runtime": "vercel-php@0.7.3"
    }
  },
  "routes": [
    // 1. Serve static assets from the "public" directory
    {
      "src": "/css/(.*)",
      "headers": { "Cache-Control": "public, max-age=31536000, immutable" },
      "dest": "/public/css/$1"
    },
    {
      "src": "/js/(.*)",
      "headers": { "Cache-Control": "public, max-age=31536000, immutable" },
      "dest": "/public/js/$1"
    },
    {
      "src": "/favicon.ico",
      "dest": "/public/favicon.ico"
    },
    // Add other static types (images, fonts) if needed

    // 2. All other requests go to the PHP application
    {
      "src": "/(.*)",
      "dest": "/api/index.php"
    }
  ],
  "env": {
    "APP_ENV": "production",
    "MONGODB_URI": "@mongodb_uri", // Replace with your Vercel secret name
    "APP_URL": "https://your-deployment-url.vercel.app" // Your actual app URL
  }
    }
